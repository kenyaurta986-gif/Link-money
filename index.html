<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="manifest" href="manifest.json">
    <title>Virus</title>
    <style>
        html, body { margin:0; padding:0; height:100%; overflow:hidden; background:#000; }
        body { color:#f00; font-family: 'Courier New', monospace; }
        #terminal { padding:20px; height:100vh; display:flex; flex-direction:column; justify-content:center; text-align:center; font-size:28px; }
        .glitch { animation: colorGlitch 0.3s infinite; }
        @keyframes colorGlitch {
            0% { color:#f00; text-shadow: 0.05em 0 0 #f00, -0.05em -0.05em 0 #0ff; }
            14% { color:#0f0; text-shadow: -0.05em 0 0 #0ff, 0.05em -0.05em 0 #f00; }
            28% { color:#ff0; text-shadow: 0 0.05em 0 #f00, 0 -0.05em 0 #0ff; }
            42% { color:#0ff; text-shadow: 0.05em 0.05em 0 #ff0, -0.05em 0 0 #f00; }
            56% { color:#f0f; text-shadow: -0.05em 0 0 #0f0, 0.05em -0.05em 0 #ff0; }
            70% { color:#fff; text-shadow: 0.05em 0 0 #f0f, -0.05em 0.05em 0 #0ff; }
            84% { color:#f00; text-shadow: 0 -0.05em 0 #0ff, 0.05em 0.05em 0 #f00; }
            100% { color:#0ff; text-shadow: -0.05em 0 0 #f00, 0.05em 0 0 #0ff; }
        }
        .blood { color:#8B0000; text-shadow: 0 0 10px #f00, 0 0 20px #f00; animation: drip 2s infinite; font-size:40px; }
        @keyframes drip { 0%{text-shadow: 0 0 10px #f00;} 50%{text-shadow: 0 20px 20px #800;} 100%{text-shadow: 0 0 10px #f00;} }
        #output > div { margin:15px 0; }
        #jumpscare { position:fixed; top:0; left:0; width:100%; height:100%; background:#000; display:none; align-items:center; justify-content:center; z-index:999; }
        #monster { width:95%; opacity:0; transition:opacity 0.1s; }
        #passwordOverlay { position:fixed; top:0; left:0; width:100%; height:100%; background:#000; display:none; align-items:center; justify-content:center; flex-direction:column; color:#f00; font-size:30px; z-index:1000; }
        #passwordOverlay input { margin:20px; padding:15px; font-size:20px; width:80%; max-width:300px; background:#111; color:#f00; border:2px solid #f00; text-align:center; }
        #passwordOverlay button { padding:15px 30px; font-size:20px; background:#f00; color:#000; border:none; cursor:pointer; }
        #status { margin-top:20px; font-size:24px; }
    </style>
</head>
<body oncontextmenu="return false;" onselectstart="return false;">
    <div id="terminal">
        <div id="output" class="glitch"></div>
    </div>

    <div id="jumpscare">
        <img id="monster" src="https://i.imgur.com/8O7jO.gif" alt="JUMPSCARE">
    </div>

    <div id="passwordOverlay">
        <div>ENTER PASSWORD TO REMOVE VIRUS</div>
        <input type="password" id="passInput" placeholder="Password">
        <button onclick="checkPassword()">SUBMIT</button>
        <div id="status"></div>
    </div>

    <audio id="ambience" src="https://www.free-stock-music.com/mp3/spooky-ambience.mp3" autoplay loop></audio>
    <audio id="scream" src="https://www.myinstants.com/media/sounds/scary-maze-game-scream.mp3"></audio>

    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js');
        }

        function enterFullscreen() {
            const elem = document.documentElement;
            if (elem.requestFullscreen) elem.requestFullscreen();
            else if (elem.webkitRequestFullscreen) elem.webkitRequestFullscreen();
        }
        enterFullscreen();
        window.onload = enterFullscreen;

        const ambience = document.getElementById('ambience');
        const scream = document.getElementById('scream');
        const output = document.getElementById('output');

        ambience.volume = 0.8;
        ambience.play();

        // 20-sec back trap
        let trapActive = true;
        for (let i = 0; i < 100; i++) history.pushState({}, '', location.href);
        const trapInterval = setInterval(() => {
            if (trapActive) history.pushState({}, '', location.href);
        }, 5);
        window.onpopstate = () => { if (trapActive) history.go(1); };
        setTimeout(() => {
            trapActive = false;
            clearInterval(trapInterval);
        }, 20000);

        const weirdWallet = "bc1qxy2kgdygjrsqtzq2n0yrf2493p83kkfjhx0wlh";

        function typeLine(text, fast = false) {
            return new Promise(resolve => {
                let i = 0;
                const div = document.createElement('div');
                div.classList.add('glitch');
                output.appendChild(div);
                const speed = fast ? 20 : 70;
                const interval = setInterval(() => {
                    div.textContent += text[i];
                    i++;
                    if (i >= text.length) {
                        clearInterval(interval);
                        setTimeout(resolve, fast ? 500 : 1200);
                    }
                }, speed);
            });
        }

        let attempts = 0;
        function checkPassword() {
            const input = document.getElementById('passInput').value.trim();
            attempts++;

            if (input === 'Askuru' || attempts >= 3) {
                document.getElementById('status').style.color = '#0f0';
                document.getElementById('status').textContent = 'CORRECT - VIRUS REMOVED';
                setTimeout(() => {
                    document.getElementById('passwordOverlay').style.display = 'none';
                    output.innerHTML = '<div style="color:#0f0; font-size:40px;">SYSTEM CLEAN</div>';
                }, 1500);
            } else {
                document.getElementById('status').style.color = '#f00';
                document.getElementById('status').textContent = 'WRONG PASSWORD';
                document.getElementById('passInput').value = '';
                setTimeout(() => document.getElementById('status').textContent = '', 2000);
            }
        }

        async function startPrank() {
            await typeLine("YOU CAN BACK THIS WEBSITE BUT YOU CAN'T EVER DELETE THIS VIRUS I'M PLANTING IN YOUR DEVICE", true);
            await typeLine("IF YOU WANT IT TO BE REMOVED THEN PAY 1 BITCOIN", true);
            await typeLine("TO: " + weirdWallet, true);

            await new Promise(r => setTimeout(r, 7000));

            output.style.opacity = 0;
            await new Promise(r => setTimeout(r, 1500));

            document.getElementById('jumpscare').style.display = 'flex';
            document.getElementById('monster').style.opacity = 1;
            scream.play();
            await new Promise(r => setTimeout(r, 2000));

            document.getElementById('jumpscare').style.display = 'none';

            output.innerHTML = '<div class="blood">WE ARE WATCHING</div>';
            output.style.opacity = 1;

            setTimeout(() => {
                document.getElementById('passwordOverlay').style.display = 'flex';
            }, 3000);
        }

        startPrank();
    </script>
</body>
</html>
